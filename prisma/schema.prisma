// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  url=  env("DATABASE_URL")
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model NamaKecamatan {
  id    Int    @id
  label String

  @@map("NamaKecamatan")
}

model BpjsKecamatan {
  id          Int     @id @default(autoincrement())
  kecamatan   String
  kelasI      Float
  kelasII     Float
  kelasIII    Float
  jumlah Float

  @@unique([kecamatan])
  @@map("bpjs_kecamatan")
}
model BpjsKelompokKecamatan {
  id          Int     @id @default(autoincrement())
  kecamatan   String
  pbi         Float
  non_pbi     Float
  jumlah      Float
  @@unique([kecamatan])
  @@map("bpjs_kelompok_kecamatan")
}
model IbnuSinaRawatJalan {
  id             Int     @id @default(autoincrement())
  bulan          String
  bedah          Float
  kesehatan_anak Float
  poli_kebidanan Float
  gigi           Float
  umum           Float
  @@unique([bulan])
  @@map("ibnu_sina_rawat_jalan")
}
model LanjutanIbnuSinaRawatJalan {
  id               Int     @id @default(autoincrement())
  bulan            String
  penyakit_dalam   Float
  jiwa             Float
  tht              Float
  mata             Float
  neurologi        Float
  fisioterapi      Float
  @@unique([bulan])
  @@map("lanjutan_ibnu_sina_rawat_jalan")
}
model IbnuSinaRawatInap {
  id               Int     @id @default(autoincrement())
  uraian           String
  jumlah_pasien    Float
  hari_rawat       Float
  @@unique([uraian])
  @@map("ibnu_sina_rawat_inap")
}
model Fasilitas {
  id           Int     @id @default(autoincrement())
  fasilitas    String
  dua_ribu_20  Float
  dua_ribu_21  Float
  dua_ribu_22  Float
  dua_ribu_23  Float
  dua_ribu_24  Float

  @@unique([fasilitas])
  @@map("ibnu_sina_fasilitas")
}
model KelahiranKematian {
  id           Int     @id @default(autoincrement())
  bulan    String
  bersalin  Float
  keguguran  Float

  @@unique([bulan])
  @@map("ibnu_sina_kelahiran_kematian")
}
model LanjutanKelahiranKematian {
  id Int @id @default(autoincrement())
  bulan String

  hidup_laki_laki Float
  hidup_perempuan Float

  mati_laki_laki Float
  mati_perempuan Float

  @@unique([bulan])
  @@map("ibnu_sina_lanjutan_kelahiran_kematian")
}

/* kecamatan form*/

model InfoKecamatan {
  id        Int @id @default(autoincrement())
  kecamatan String @unique
  nama_camat String
  luas_kecamatan String

  batas_utara String
  batas_selatan String
  batas_barat String
  batas_timur String
  ketinggian_dari_permukaan_laut String

  jmlh_nagari Int
  jmlh_jorong Int

  nagari  Nagari[]
  jorong  Jorong[]

  saranaPendidikan SaranaPendidikan[]
  saranaKesehatan SaranaKesehatan[]
  saranaPeribadatan SaranaPeribadatan[]
  giziBuruk GiziBuruk[]
  pasar Pasar[]

  @@map("info_kecamatan")
}


model Nagari {
  id Int @id @default(autoincrement())
  nama String
  kepala_nagari String

  kecamatanId Int
  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)
}

model Jorong {
  id Int @id @default(autoincrement())
  nama String
  kepala_jorong String

  kecamatanId Int
  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)
}

model SaranaPendidikan {
  id Int @id @default(autoincrement())

  jumlahTK  Int
  jumlahRA  Int
  jumlahSD  Int
  jumlahMI  Int
  jumlahSMP Int
  jumlahMTsn  Int
  jumlahSMA  Int
  jumlahSMK  Int
  jumlahMAN  Int
  kecamatanId Int
  kecamatan   InfoKecamatan  @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)

  @@map("sarana_pendidikan")
}


model SaranaPeribadatan {
  id Int @id @default(autoincrement())

  jumlahMesjid Int
  jumlahMushala Int
  jumlahGerejaKatolik Int
  jumlahGerejaProtestan Int
  jumlahWihara Int
  
  kecamatanId Int
  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)

  @@map("sarana_peribadatan")
}
model SaranaKesehatan {
  id Int @id @default(autoincrement())

  jumlahRumahSakit Int
  jumlahRumahSakitBersalin Int
  jumlahPoliklinikBalaiKesehatan Int
  jumlahPuskesmasRawatInap Int
  jumlahPuskesmasTanpaRawatInap Int
  jumlahPuskesmasPembantu Int
  jumlahPolindes Int
  jumlahPosyandu Int
  jumlahApotik Int
  kecamatanId Int

  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)

  @@map("sarana_kesehatan")
}



model GiziBuruk {
  id Int @id @default(autoincrement())

  jumlah_gizi_buruk Int

  kecamatanId Int
  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)

  @@map("gizi_buruk")
}


model Pasar {
  id Int @id @default(autoincrement())
  nama String
  hari String

  kecamatanId Int
  kecamatan InfoKecamatan @relation(fields: [kecamatanId], references: [id], onDelete: Cascade)

  @@map("pasar")
}
